<div class="mt-20 px-2">
  <div
    class="w-full md:w-3/4 lg:w-2/3 xl:w-1/2 mx-auto rounded-lg overflow-hidden shadow-lg">
    <div
      class="flex flex-row justify-between items-center bg-white shadow-lg rounded-lg py-4 px-4 mb-8">
      <div>
        <h1 class="text-black text-lg font-bold">Websites List</h1>
      </div>
      <mat-form-field>
        <mat-label> Status </mat-label>
        <mat-select [formControl]="statusFormControl">
          <mat-option
            [value]="status.value"
            *ngFor="let status of statusOptions">
            {{ status.viewValue }}
          </mat-option>
        </mat-select>
      </mat-form-field>
    </div>
    <div class="rounded-lg overflow-hidden shadow-lg">
    <div class="overflow-x-scroll">
      <table
        mat-table
        [dataSource]="dataSource"
        matSort
        (matSortChange)="announceSortChange($event)"
        class="rounded-lg">
        class="mat-elevation-z8">

        <!-- Position Column -->
        <ng-container matColumnDef="url">
          <th mat-header-cell *matHeaderCellDef>URL</th>
          <td mat-cell *matCellDef="let element">
            <p-skeleton *ngIf="isLoading"></p-skeleton>
            <span *ngIf="!isLoading">{{ element.url }}</span>
          </td>
        </ng-container>

        <!-- Name Column -->
        <ng-container matColumnDef="status">
          <th mat-header-cell *matHeaderCellDef>Status</th>
          <td mat-cell *matCellDef="let element">
            <p-skeleton *ngIf="isLoading"></p-skeleton>
            <span *ngIf="!isLoading">{{ element.status }}</span>
          </td>
        </ng-container>

        <!-- Weight Column -->
        <ng-container matColumnDef="lastEvaluated">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Sort by weight">
            Last Evaluated
          </th>
          <td mat-cell *matCellDef="let element">
            <p-skeleton *ngIf="isLoading"></p-skeleton>
            <span *ngIf="!isLoading">{{
              element.lastEvaluated | date: 'MMM d, y, h:mm:ss a'
            }}</span>
          </td>
        </ng-container>

        <!-- Symbol Column -->
        <ng-container matColumnDef="createdAt">
          <th
            mat-header-cell
            *matHeaderCellDef
            mat-sort-header
            sortActionDescription="Sort by symbol">
            Date Added
          </th>
          <td mat-cell *matCellDef="let element">
            <p-skeleton *ngIf="isLoading"></p-skeleton>
            <span *ngIf="!isLoading">{{
              element.createdAt | date: 'MMM d, y, h:mm:ss a'
            }}</span>
          </td>
        </ng-container>

        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef>Actions</th>
          <td mat-cell *matCellDef="let element">
            <a
              mat-button
              color="primary"
              [routerLink]="['/websites', element._id]"
              *ngIf="!isLoading">
              <svg
                xmlns="http://www.w3.org/2000/svg"
                viewBox="0 0 24 24"
                fill="currentColor"
                class="w-6 h-6">
                <path
                  fill-rule="evenodd"
                  d="M12.97 3.97a.75.75 0 0 1 1.06 0l7.5 7.5a.75.75 0 0 1 0 1.06l-7.5 7.5a.75.75 0 1 1-1.06-1.06l6.22-6.22H3a.75.75 0 0 1 0-1.5h16.19l-6.22-6.22a.75.75 0 0 1 0-1.06Z"
                  clip-rule="evenodd" />
              </svg>
            </a>
            <p-skeleton *ngIf="isLoading"></p-skeleton>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>

        <tr *ngIf="isLoading">
          <td><p-skeleton></p-skeleton></td>
          <td><p-skeleton></p-skeleton></td>
          <td><p-skeleton></p-skeleton></td>
          <td><p-skeleton></p-skeleton></td>
          <td><p-skeleton></p-skeleton></td>
        </tr>
        <tr *ngIf="isLoading">
          <td><p-skeleton></p-skeleton></td>
          <td><p-skeleton></p-skeleton></td>
          <td><p-skeleton></p-skeleton></td>
          <td><p-skeleton></p-skeleton></td>
          <td><p-skeleton></p-skeleton></td>
        </tr>
        <tr mat-row *ngIf="isLoading">
          <td><p-skeleton></p-skeleton></td>
          <td><p-skeleton></p-skeleton></td>
          <td><p-skeleton></p-skeleton></td>
          <td><p-skeleton></p-skeleton></td>
          <td><p-skeleton></p-skeleton></td>
        </tr>

        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </div>

    <mat-paginator
      [pageSizeOptions]="[5, 10, 20]"
      showFirstLastButtons
      aria-label="Select page of periodic elements">
    </mat-paginator>
  </div>
  </div>
</div>
